(this["webpackJsonphw-04"]=this["webpackJsonphw-04"]||[]).push([[3],{36:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return s}));var a="https://api.themoviedb.org/3/",r="4858d21346699d14f09ede89415e4aeb",c=function(){return fetch("https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(r)).then((function(e){return e.json()})).then((function(e){return e.results}))},o=function(e){if(e)return fetch("".concat(a,"search/movie").concat(e,"&api_key=").concat(r)).then((function(e){return e.json()})).then((function(e){return e.results}))},i=function(e,t){switch(t){case"credits":return fetch("".concat(a,"movie/").concat(e,"/credits?api_key=").concat(r)).then((function(e){return e.json()}));case"reviews":return fetch("".concat(a,"movie/").concat(e,"/reviews?api_key=").concat(r)).then((function(e){return e.json()}));default:return fetch("".concat(a,"movie/").concat(e,"?api_key=").concat(r)).then((function(e){return e.json()}))}},s=function(e){return"https://image.tmdb.org/t/p/original".concat(e)}},37:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(36),o=n(38),i=n.n(o);t.a=function(e){var t=e.title,n=e.poster_path,a=e.release_date,o=new Date;return r.a.createElement("div",{className:i.a.wrapper},n?r.a.createElement("img",{className:i.a.image,src:"".concat(Object(c.d)(n)),alt:""}):r.a.createElement("img",{className:i.a.image,src:"https://dummyimage.com/400x600/cfcfcf/ffffff&text=NO+IMAGE+AVAILABLE",alt:""}),r.a.createElement("div",{className:i.a.title_wrapper},r.a.createElement("p",{className:i.a.title},t,"(",o.getFullYear(a),")")))}},38:function(e,t,n){e.exports={title_wrapper:"MovieCard_title_wrapper__i4HIF",wrapper:"MovieCard_wrapper__1HzAs",image:"MovieCard_image__3-J72",title:"MovieCard_title__-9kzk"}},41:function(e,t,n){e.exports={form:"Searchform_form__302Uy",input:"Searchform_input__22qoG",button:"Searchform_button__1m3F1"}},42:function(e,t,n){e.exports={movies:"MoviesPage_movies__2YYRc",results:"MoviesPage_results__1ups8",list:"MoviesPage_list__3cPxH",item:"MoviesPage_item__2PmKJ",link:"MoviesPage_link__1lzgm"}},47:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.r(t);var o=n(14),i=n(15),s=n(17),u=n(16),l=n(0),m=n.n(l),f=n(9),p=n(41),h=n.n(p),v=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={query:""},e.submitQuery=function(t){t.preventDefault();var n=e.state.query;e.props.onSubmit(n),e.setState({query:""})},e.handleChange=function(t){e.setState({query:t.target.value})},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this.state.query;return m.a.createElement("form",{className:h.a.form,onSubmit:this.submitQuery},m.a.createElement("input",{className:h.a.input,type:"text",placeholder:"Search movies",value:e,onChange:this.handleChange}),m.a.createElement("button",{className:h.a.button,type:"submit"},"Search"))}}]),n}(l.Component),b=n(36),_=n(42),d=n.n(_),y=n(37),g=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={movies:[]},e.fetchMovies=function(t){t&&Object(b.b)(t).then((function(t){return e.setState({movies:t})}))},e.handleChangeQuery=function(t){var n=e.props,a=n.history,r=n.location;t.length>0&&a.push(c(c({},r),{},{search:"query=".concat(t)}))},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.location.search;e&&this.fetchMovies(e)}},{key:"componentDidUpdate",value:function(e,t){var n=e.location.search,a=this.props.location.search;n!==a&&this.fetchMovies(a)}},{key:"render",value:function(){var e=this.state.movies,t=this.props,n=t.match,a=t.location;return m.a.createElement("div",{className:d.a.movies},m.a.createElement(v,{onSubmit:this.handleChangeQuery}),e.length>0&&m.a.createElement(m.a.Fragment,null,m.a.createElement("p",{className:d.a.results}," ","Results for: ",a.search.slice(7)),m.a.createElement("ul",{className:d.a.list},e.map((function(e){return m.a.createElement("li",{key:e.id,className:d.a.item},m.a.createElement(f.b,{to:{pathname:"".concat(n.url,"/").concat(e.id),state:{from:a}},className:d.a.link,activeClassName:d.a.link_active},m.a.createElement(y.a,e)))})))))}}]),n}(l.Component);t.default=g}}]);
//# sourceMappingURL=movies-page.21e1c755.chunk.js.map