(this["webpackJsonphw-04"]=this["webpackJsonphw-04"]||[]).push([[2],{36:function(e,t,a){"use strict";a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return i})),a.d(t,"d",(function(){return o}));var n="https://api.themoviedb.org/3/",r="4858d21346699d14f09ede89415e4aeb",c=function(){return fetch("https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(r)).then((function(e){return e.json()})).then((function(e){return e.results}))},s=function(e){if(e)return fetch("".concat(n,"search/movie").concat(e,"&api_key=").concat(r)).then((function(e){return e.json()})).then((function(e){return e.results}))},i=function(e,t){switch(t){case"credits":return fetch("".concat(n,"movie/").concat(e,"/credits?api_key=").concat(r)).then((function(e){return e.json()}));case"reviews":return fetch("".concat(n,"movie/").concat(e,"/reviews?api_key=").concat(r)).then((function(e){return e.json()}));default:return fetch("".concat(n,"movie/").concat(e,"?api_key=").concat(r)).then((function(e){return e.json()}))}},o=function(e){return"https://image.tmdb.org/t/p/original".concat(e)}},39:function(e,t,a){e.exports={review:"Review_review__1Fig6",total:"Review_total__VSLzn",author:"Review_author__1T25I",content:"Review_content__2qU2n"}},43:function(e,t,a){e.exports={wrapper:"Cast_wrapper__2l8H6",box:"Cast_box__1XRSN",avatar:"Cast_avatar__1wC-y",name:"Cast_name__UvHXw",empty:"Cast_empty__owHT0"}},44:function(e,t,a){e.exports={page:"MoviesDetailsPage_page__KDnhC",card:"MoviesDetailsPage_card__3dspO",poster:"MoviesDetailsPage_poster__1k-Mg",title:"MoviesDetailsPage_title__20lyT",wrapper:"MoviesDetailsPage_wrapper__25qmw",overview:"MoviesDetailsPage_overview__1rS5c",genres:"MoviesDetailsPage_genres__2KkvO",adds:"MoviesDetailsPage_adds__dULXE",link:"MoviesDetailsPage_link__1JD-C",link_active:"MoviesDetailsPage_link_active__1n4O2",button:"MoviesDetailsPage_button__2wJ_i"}},46:function(e,t,a){"use strict";a.r(t);var n=a(14),r=a(15),c=a(17),s=a(16),i=a(0),o=a.n(i),l=a(9),u=a(1),m=a(7),v=a(39),p=a.n(v),h=function(e){Object(c.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props.reviews;return o.a.createElement(o.a.Fragment,null,e.map((function(e){var t=e.id,a=e.author,n=e.content;return o.a.createElement("div",{className:p.a.review,key:t},o.a.createElement("h2",{className:p.a.author},"Author: ",a),o.a.createElement("p",{className:p.a.content},n))})))}}]),a}(i.Component),f=a(36),_=function(e){Object(c.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={reviews:null},e.fetchReviews=function(){Object(f.a)(e.props.movieId,"reviews").then((function(t){var a=t.results;return e.setState({reviews:a})}))},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.fetchReviews()}},{key:"render",value:function(){var e=this.state.reviews;return o.a.createElement(o.a.Fragment,null,e&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",{className:p.a.total},"Total reviews: ",e.length),o.a.createElement(h,{reviews:e})))}}]),a}(i.Component),d=a(43),w=a.n(d),b=function(e){Object(c.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props.casts;return o.a.createElement("div",{className:w.a.wrapper},e.map((function(e){var t=e.id,a=e.profile_path,n=e.name,r=e.character;return o.a.createElement("div",{className:w.a.box,key:t},a?o.a.createElement("img",{className:w.a.avatar,src:"".concat(Object(f.d)(a)),alt:n}):o.a.createElement("div",{className:w.a.empty}),o.a.createElement("h3",{className:w.a.name},n),o.a.createElement("p",null,"as ",r))})))}}]),a}(i.Component),g=function(e){Object(c.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={casts:null},e.fetchCasts=function(){Object(f.a)(e.props.movieId,"credits").then((function(t){var a=t.cast;return e.setState({casts:a})}))},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.fetchCasts()}},{key:"render",value:function(){var e=this.state.casts;return o.a.createElement(o.a.Fragment,null,e&&o.a.createElement(b,{casts:e}))}}]),a}(i.Component),E=a(44),y=a.n(E),k=function(e){Object(c.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={movie:null},e.handleGoBack=function(){var t=e.props.location.state;if(t&&t.from)return e.props.history.push(t.from);e.props.history.push(m.a.movies)},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;Object(f.a)(this.props.match.params.movieId).then((function(t){return e.setState({movie:t})}))}},{key:"render",value:function(){var e=this.state.movie,t=this.props.match,a=t.url,n=t.path,r=new Date;return o.a.createElement("div",{className:y.a.page},o.a.createElement("button",{className:y.a.button,type:"button",onClick:this.handleGoBack},"\u25c4 Back"),o.a.createElement("br",null),e&&o.a.createElement("div",{className:y.a.card},e.poster_path?o.a.createElement("img",{src:Object(f.d)(e.poster_path),alt:e.title,className:y.a.poster}):o.a.createElement("img",{src:"https://dummyimage.com/400x600/cfcfcf/ffffff&text=NO+IMAGE+AVAILABLE",alt:e.title,className:y.a.poster}),o.a.createElement("div",{className:y.a.wrapper},o.a.createElement("h1",{className:y.a.title},e.title,"(",r.getFullYear(e.release_date),")"),o.a.createElement("p",{className:y.a.overview},e.overview),e.genres.length>0&&o.a.createElement("div",{className:y.a.genres},o.a.createElement("h3",{className:y.a.genres}," Genres"),e.genres.map((function(e){var t=e.name;return o.a.createElement("span",{key:t},t)}))))),o.a.createElement("h2",{className:y.a.adds},"Additional information"),o.a.createElement(l.b,{to:"".concat(a,"/reviews"),className:y.a.link,activeClassName:y.a.link_active},"Reviews"),o.a.createElement(l.b,{to:"".concat(a,"/casts"),className:y.a.link,activeClassName:y.a.link_active},"Casts"),o.a.createElement(u.a,{path:"".concat(n,"/reviews"),render:function(e){var t=e.match.params;return o.a.createElement(_,{movieId:t.movieId})}}),o.a.createElement(u.a,{path:"".concat(n,"/casts"),render:function(e){var t=e.match.params;return o.a.createElement(g,{movieId:t.movieId})}}))}}]),a}(i.Component);t.default=k}}]);
//# sourceMappingURL=movies-details-page.1edd61d4.chunk.js.map